(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,o){},16:function(t,e,o){},18:function(t,e,o){},20:function(t,e,o){},22:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),s=o(8),r=o.n(s),c=o(6),i=o(1),d=o(2),l=o(4),h=o(3),u=o(5),m=(o(14),o(16),function(t){function e(t){var o;return Object(i.a)(this,e),(o=Object(l.a)(this,Object(h.a)(e).call(this,t))).change=function(t){return o.setState({text:t.target.value})},o.submit=function(t){t.preventDefault(),o.props.addTodo(o.state.text),o.setState({text:""})},o.state={text:" ",placeholder:"Add new task..."},o}return Object(u.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"addbar"},n.a.createElement("form",{className:"card__add",action:"index.html",method:"post",id:"form1",onSubmit:this.submit},n.a.createElement("input",{className:"noFormat",type:"text",value:this.state.text,onChange:this.change,placeholder:this.state.placeholder}),n.a.createElement("button",{className:"card__icon card__icon--add noFormat fas fa-plus fa-lg",form:"form1",type:"submit"}),n.a.createElement("i",{className:"card__icon card__icon--sort fas fa-sort-alpha-down fa-lg",onClick:this.props.sortToggle}),n.a.createElement("i",{className:"card__icon card__icon--trash fas fa-trash-alt fa-lg",onClick:this.props.trashToggle})))}}]),e}(a.Component)),p=(o(18),o(20),function(t){function e(t){var o;return Object(i.a)(this,e),(o=Object(l.a)(this,Object(h.a)(e).call(this,t))).markStyle=function(){return{textDecoration:o.props.completed?"line-through":"none"}},o.showStyle=function(){return{display:o.props.trashMode?"block":"none"}},o}return Object(u.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.todo,e=t.id,o=t.text,a=t.completed;return n.a.createElement("div",{className:"card__item"},n.a.createElement("input",{type:"checkbox",onChange:this.props.markComplete.bind(this,e),checked:a}),n.a.createElement("p",{className:"card__text",style:this.markStyle()},o),n.a.createElement("i",{className:" card__icon card__icon--delete fas fa-times fa-md",onClick:this.props.deleteTodo.bind(this,e),style:this.showStyle()}))}}]),e}(a.Component)),f=function(t){function e(t){return Object(i.a)(this,e),Object(l.a)(this,Object(h.a)(e).call(this,t))}return Object(u.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"cards"},this.props.todos.map(function(e){try{return n.a.createElement(p,{key:e.id,todo:e,completed:e.completed,markComplete:t.props.markComplete,deleteTodo:t.props.deleteTodo,trashMode:t.props.trashMode})}catch(o){return}}))}}]),e}(a.Component),b=function(t){function e(t){var o;return Object(i.a)(this,e),(o=Object(l.a)(this,Object(h.a)(e).call(this,t))).markComplete=function(t){o.setState({todos:o.state.todos.map(function(e){return e.id==t&&(console.log(t),e.completed=!e.completed,fetch("https://cse204.work/todos/"+t,{method:"put",headers:new Headers({"x-api-key":"282249-1d671a-84317a-368f87-455eb2","Content-type":"application/json"}),body:JSON.stringify({completed:e.completed})}).then(function(t){console.log(t)})),e})})},o.deleteTodo=function(t){o.setState({todos:Object(c.a)(o.state.todos.filter(function(e){return e.id!==t}))}),fetch("https://cse204.work/todos/"+t,{method:"delete",headers:new Headers({"x-api-key":"282249-1d671a-84317a-368f87-455eb2"})}).then(function(t){console.log(t)})},o.addTodo=function(t){" "!=t&&fetch("https://cse204.work/todos",{method:"post",headers:new Headers({"Content-type":"application/json","x-api-key":"282249-1d671a-84317a-368f87-455eb2"}),body:JSON.stringify({text:t})}).then(function(t){if(t.ok)return t.json();console.log("Error! Code: "+t.status)}).then(function(t){o.setState({todos:Object(c.a)(o.state.todos).concat([t])})})},o.sorter=function(){if(o.state.sort){var t=Object(c.a)(o.state.todos).sort(function(t,e){var o=t.text.toLowerCase(),a=e.text.toLowerCase(),n=0;return o>a?n=1:o<a&&(n=-1),n});o.setState({todos:t})}},o.trashToggle=function(){console.log(o.state.trashMode),o.setState({todos:Object(c.a)(o.state.todos),trashMode:!o.state.trashMode})},o.state={todos:[],trashMode:!1,sort:!0},o}return Object(u.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return n.a.createElement("div",{className:"page"},n.a.createElement("div",{className:"header"},n.a.createElement("h1",null,"akshat's todo app")),n.a.createElement(m,{addTodo:this.addTodo,sortToggle:this.sorter,trashToggle:this.trashToggle}),n.a.createElement(f,{todos:this.state.todos,markComplete:this.markComplete,deleteTodo:this.deleteTodo,trashMode:this.state.trashMode}))}},{key:"componentDidMount",value:function(){var t=this;fetch("https://cse204.work/todos",{method:"get",headers:new Headers({"x-api-key":"282249-1d671a-84317a-368f87-455eb2"})}).then(function(t){if(t.ok)return t.json();console.log("failure")}).then(function(e){console.log(e),t.setState({todos:e})})}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()}).catch(function(t){console.error(t.message)})},9:function(t,e,o){t.exports=o(22)}},[[9,2,1]]]);
//# sourceMappingURL=main.613b9bd5.chunk.js.map