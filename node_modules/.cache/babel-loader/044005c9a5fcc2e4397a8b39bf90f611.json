{"ast":null,"code":"import _toConsumableArray from \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport NewTodo from './NewTodo';\nimport Todos from './Todos';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.markComplete = function (id) {\n      _this.setState({\n        todos: _this.state.todos.map(function (todo) {\n          if (todo.id == id) {\n            console.log(id);\n            todo.completed = !todo.completed;\n            fetch(\"https://cse204.work/todos/\" + id, {\n              method: 'put',\n              headers: new Headers({\n                \"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\",\n                \"Content-type\": \"application/json\"\n              }),\n              body: JSON.stringify({\n                completed: todo.completed\n              })\n            }).then(function (res) {\n              console.log(res);\n            });\n          }\n\n          return todo;\n        })\n      });\n    };\n\n    _this.deleteTodo = function (id) {\n      _this.setState({\n        todos: _toConsumableArray(_this.state.todos.filter(function (todo) {\n          return todo.id !== id;\n        }))\n      });\n\n      fetch(\"https://cse204.work/todos/\" + id, {\n        method: 'delete',\n        headers: new Headers({\n          \"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\"\n        })\n      }).then(function (res) {\n        console.log(res);\n      });\n    };\n\n    _this.addTodo = function (text) {\n      if (text == \" \") {\n        return;\n      }\n\n      fetch(\"https://cse204.work/todos\", {\n        method: 'post',\n        headers: new Headers({\n          \"Content-type\": \"application/json\",\n          \"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\"\n        }),\n        body: JSON.stringify({\n          \"text\": text\n        })\n      }).then(function (res) {\n        if (!res.ok) {\n          console.log(\"Error! Code: \" + res.status);\n          return;\n        }\n\n        return res.json();\n      }).then(function (data) {\n        _this.setState({\n          todos: _toConsumableArray(_this.state.todos).concat([data])\n        });\n      });\n    };\n\n    _this.sorter = function () {\n      if (_this.state.sort) {\n        var sortArray = _toConsumableArray(_this.state.todos).sort(function (a, b) {\n          var itemA = a.text.toLowerCase();\n          var itemB = b.text.toLowerCase();\n          var comp = 0;\n\n          if (itemA > itemB) {\n            comp = 1;\n          } else if (itemA < itemB) {\n            comp = -1;\n          }\n\n          return comp;\n        });\n\n        _this.setState({\n          todos: sortArray\n        });\n      }\n    };\n\n    _this.trashToggle = function () {\n      console.log(_this.state.trashMode);\n\n      _this.setState({\n        todos: _toConsumableArray(_this.state.todos),\n        trashMode: !_this.state.trashMode\n      });\n    };\n\n    _this.state = {\n      todos: [],\n      trashMode: false,\n      sort: true\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 23\n        },\n        __self: this\n      }, \"things to do today\")), React.createElement(NewTodo, {\n        addTodo: this.addTodo,\n        sortToggle: this.sorter,\n        trashToggle: this.trashToggle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25\n        },\n        __self: this\n      }), React.createElement(Todos, {\n        todos: this.state.todos,\n        markComplete: this.markComplete,\n        deleteTodo: this.deleteTodo,\n        trashMode: this.state.trashMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"https://cse204.work/todos\", {\n        method: 'get',\n        headers: new Headers({\n          \"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\"\n        })\n      }).then(function (res) {\n        if (!res.ok) {\n          console.log(\"failure\");\n          return;\n        }\n\n        return res.json();\n      }).then(function (data) {\n        console.log(data);\n\n        _this2.setState({\n          todos: data\n        }); // console.log(this.state.todos)\n\n      });\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/akshatsharma/git/cse204/09-todo-react-akshatksharma/src/App.js"],"names":["React","Component","NewTodo","Todos","App","props","markComplete","id","setState","todos","state","map","todo","console","log","completed","fetch","method","headers","Headers","body","JSON","stringify","then","res","deleteTodo","filter","addTodo","text","ok","status","json","data","sorter","sort","sortArray","a","b","itemA","toLowerCase","itemB","comp","trashToggle","trashMode"],"mappings":"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","sourcesContent":["import React, {Component} from  'react';\nimport './App.css';\nimport NewTodo from './NewTodo';\nimport Todos from './Todos'\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      todos: [],\n      trashMode: false,\n      sort: true\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"page\">\n        <div className=\"header\">\n          <h1>things to do today</h1>\n        </div>\n        <NewTodo\n          addTodo = {this.addTodo}\n          sortToggle = {this.sorter}\n          trashToggle = {this.trashToggle}/>\n        <Todos\n          todos={this.state.todos}\n          markComplete = {this.markComplete}\n          deleteTodo = {this.deleteTodo}\n          trashMode = {this.state.trashMode}\n          />\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    fetch(\"https://cse204.work/todos\", {\n      method: 'get',\n      headers: new Headers({\"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\"})\n    })\n    .then(res => {\n      if (!res.ok) {\n        console.log(\"failure\");\n        return;\n      }\n      return res.json();\n    }).then(data => {\n      console.log(data)\n      this.setState({\n        todos : data\n      })\n      // console.log(this.state.todos)\n    })\n  }\n\n  markComplete = (id) => {\n    this.setState({\n      todos: this.state.todos.map(todo => {\n        if(todo.id == id) {\n          console.log(id)\n          todo.completed = !todo.completed;\n\n          fetch(\"https://cse204.work/todos/\" + id, {\n            method: 'put',\n            headers: new Headers({\"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\", \"Content-type\": \"application/json\"}),\n            body: JSON.stringify({\n              completed: todo.completed\n            })\n          }).then(res => {console.log(res)})\n        }\n        return todo;\n      })\n    })\n  }\n\n  deleteTodo = (id) => {\n    this.setState({\n      todos: [...this.state.todos.filter(todo => todo.id !== id)]\n    })\n    fetch(\"https://cse204.work/todos/\" + id, {\n      method: 'delete',\n      headers: new Headers({\"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\"})\n    }).then(res => {\n      console.log(res)\n    })\n\n  }\n\n  addTodo = (text) => {\n    if (text == \" \") {\n      return\n    }\n    fetch(\"https://cse204.work/todos\", {\n      method: 'post',\n      headers: new Headers({\"Content-type\": \"application/json\", \"x-api-key\": \"282249-1d671a-84317a-368f87-455eb2\"}),\n      body: JSON.stringify({\n        \"text\": text\n      })\n    }).then(res => {\n        if(!res.ok) {\n          console.log(\"Error! Code: \" + res.status);\n          return;\n        }\n        return res.json();\n    }).then(data => {\n        this.setState({\n          todos: [...this.state.todos, data]\n        })\n      })\n  }\n\n\n\n  sorter = () => {\n\n      if (this.state.sort) {\n\n        let sortArray = [...this.state.todos].sort((a,b) => {\n          const itemA = a.text.toLowerCase();\n          const itemB = b.text.toLowerCase();\n          let comp = 0;\n\n          if (itemA > itemB) {\n            comp = 1;\n          } else if (itemA < itemB) {\n            comp = -1;\n          }\n          return comp\n          })\n\n        this.setState({\n          todos: sortArray\n        })\n      }\n\n  }\n\n\n  trashToggle = () => {\n    console.log(this.state.trashMode)\n    this.setState({\n      todos: [...this.state.todos],\n      trashMode: !this.state.trashMode\n    })\n  }\n\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}